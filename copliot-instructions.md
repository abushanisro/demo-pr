variables and functions should be named as lower snake case

db session should be created only before using it

db session if created should be closed in finally block

db session if doing an update query must do a rollback inside the exception block

all endpoint logic should be wrapped inside a try-except block

an endpoint must always return a json response

all endpoints must have at least 1 validation at the top

give me in tanglish
